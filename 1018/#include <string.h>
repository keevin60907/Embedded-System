#include <string.h> 
#include <unistd.h> 
#include <errno.h> #include <stdio.h> #include <stdlib.h> #include <linux/i2c-dev.h> #include <sys/ioctl.h> #include <fcntl.h> #include <unistd.h>
i2c-pi-Arduino.c
// The arduino board i2c address (slave)
#define ADDRESS 0x04
// The I2C bus: This is for V2 pi's. For V1 Model B you need i2c-0 static const char *devName = "/dev/i2c-1";
int main(int argc, char** argv) {
int file, num;
printf("I2C: Connecting\n");
if ((file = open(devName, O_RDWR)) < 0) {
fprintf(stderr, "I2C: Failed to access %d\n", devName);
exit(1); }